<p-toast />
<div class="grid" style="height: 100%;">
    <div class="col-4 overflow-y-auto h-full p-2">
        <h1>Gate Details</h1>
        <app-reward-gate-details
            [gateDetailsData]="gateDetailsData"
            (gateDetailSelected)="loadRewards($event)"
            ></app-reward-gate-details>
    </div>

    <!-- Reward Form -->
    <div class="col-3 p-2">
        <h1>Reward Form</h1>
        <app-reward-form
            [typeRewards]="typeRewards"
            [selectedGateDetails]="selectedGateDetails"
            (submitReward)="onRewardAdded($event)"
        ></app-reward-form>
    </div>

    <!-- Rewards of GateDetails && Rewards to Insert -->
    <div class="col-4 p-2">
        <h3>Rewards</h3>
        <div class="flex flex-wrap gap-2">
            <ng-container *ngFor="let reward of rewardsData">
                <app-reward-item 
                    [reward]="reward"
                    *ngIf="!reward.isExtraReward"
                ></app-reward-item>
            </ng-container>
        </div>
        <h3>Extra Rewards</h3>
        <div class="flex flex-wrap gap-2">
            <ng-container *ngFor="let reward of rewardsData">
                <app-reward-item 
                    [reward]="reward"
                    *ngIf="reward.isExtraReward"
                ></app-reward-item>
            </ng-container>
        </div>
        <h3>Rewards to Insert</h3>
        <div class="flex flex-wrap gap-2 mb-3">
            <ng-container *ngFor="let reward of rewardsToInsert">
                <app-reward-item 
                    [reward]="reward"
                    [showExtraLabel]="reward.isExtraReward"
                ></app-reward-item>
            </ng-container>
        </div>
        <p-button
            label="Submit Rewards"
            icon="pi pi-check"
            severity="success"
            [disabled]="rewardsToInsert.length < 1"
            (onClick)="submitRewards()">
        </p-button>
    </div>
</div>